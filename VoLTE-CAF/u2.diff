diff --git a/ims/AndroidManifest.xml b/ims_patched/AndroidManifest.xml
index 8d22bb7..557b4b4 100644
--- a/ims/AndroidManifest.xml
+++ b/ims_patched/AndroidManifest.xml
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="utf-8" standalone="no"?>
-<manifest xmlns:android="http://schemas.android.com/apk/res/android" coreApp="true" package="org.codeaurora.ims" platformBuildVersionCode="34" platformBuildVersionName="14" android:sharedUserId="android.uid.phone">
+<manifest xmlns:android="http://schemas.android.com/apk/res/android" coreApp="true" package="org.codeaurora.ims" platformBuildVersionCode="33" platformBuildVersionName="13" android:sharedUserId="android.uid.phone">
   <protected-broadcast android:name="org.codeaurora.VOIP_VOPS_SSAC_STATUS"/>
   <protected-broadcast android:name="com.android.internal.intent.action.ACTION_FORBIDDEN_NO_SERVICE_AUTHORIZATION"/>
   <protected-broadcast android:name="com.qti.phone.action.ACTION_DISABLE_C_IWLAN_NOTIFICATION"/>
@@ -29,7 +29,6 @@
   <uses-permission android:name="android.permission.POST_NOTIFICATIONS"/>
   <permission android:name="com.qti.permission.DIAG" android:protectionLevel="signatureOrSystem"/>
   <permission android:name="com.qti.permission.AUDIO" android:protectionLevel="signatureOrSystem"/>
-  <permission android:name="com.qti.permission.BIND_QTI_IMS_SERVICE" android:protectionLevel="signatureOrSystem"/>
   <permission android:name="com.qti.permission.RECEIVE_PRE_ALERTING_CALL_INFO" android:protectionLevel="signatureOrSystem"/>
   <permission android:name="com.qti.permission.RECEIVE_SMS_CALLBACK_MODE" android:protectionLevel="signatureOrSystem"/>
   <permission android:name="com.qti.permission.RECEIVE_MSIM_VOICE_CAPABILITY" android:protectionLevel="signatureOrSystem"/>
@@ -41,6 +40,6 @@
         <action android:name="android.telephony.ims.ImsService"/>
       </intent-filter>
     </service>
-    <service android:enabled="true" android:exported="true" android:name=".QtiImsExtService" android:permission="com.qti.permission.BIND_QTI_IMS_SERVICE" android:singleUser="true" android:persistent="true"/>
+    <service android:enabled="true" android:exported="true" android:name=".QtiImsExtService" android:singleUser="true" android:persistent="true"/>
   </application>
 </manifest>
diff --git a/ims/apktool.yml b/ims_patched/apktool.yml
index 667c010..50bad95 100644
--- a/ims/apktool.yml
+++ b/ims_patched/apktool.yml
@@ -13,7 +13,7 @@ packageInfo:
   renameManifestPackage: null
 resourcesAreCompressed: false
 sdkInfo:
-  minSdkVersion: '34'
+  minSdkVersion: '33'
   targetSdkVersion: '33'
 sharedLibrary: false
 sparseResources: true
diff --git a/ims/build/apk/AndroidManifest.xml b/ims_patched/build/apk/AndroidManifest.xml
index 537c34b..4e4f08b 100644
Binary files a/ims/build/apk/AndroidManifest.xml and b/ims_patched/build/apk/AndroidManifest.xml differ
diff --git a/ims/build/apk/classes.dex b/ims_patched/build/apk/classes.dex
index 4e1fdbb..ae23ed4 100644
Binary files a/ims/build/apk/classes.dex and b/ims_patched/build/apk/classes.dex differ
diff --git a/ims/dist/ims.apk b/ims_patched/dist/ims.apk
index 4365cc8..27a9ac9 100644
Binary files a/ims/dist/ims.apk and b/ims_patched/dist/ims.apk differ
diff --git a/ims/smali/org/codeaurora/ims/ImsServiceStateReceiver.smali b/ims_patched/smali/org/codeaurora/ims/ImsServiceStateReceiver.smali
index 69e625e..5dc19b9 100644
--- a/ims/smali/org/codeaurora/ims/ImsServiceStateReceiver.smali
+++ b/ims_patched/smali/org/codeaurora/ims/ImsServiceStateReceiver.smali
@@ -889,18 +889,7 @@
     .param p1, "isVideoCapable"    # Z
     .param p2, "isVoiceCapable"    # Z
 
-    .line 69
-    invoke-static {}, Landroid/telephony/TelephonyBaseUtilsStub;->isMiuiRom()Z
-
-    move-result v0
-
-    if-eqz v0, :cond_0
-
-    .line 70
-    return-void
-
     .line 74
-    :cond_0
     new-instance v0, Ljava/lang/StringBuilder;
 
     invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V
diff --git a/ims/smali/org/codeaurora/ims/ImsServiceSub.smali b/ims_patched/smali/org/codeaurora/ims/ImsServiceSub.smali
index 9a82766..40822f0 100644
--- a/ims/smali/org/codeaurora/ims/ImsServiceSub.smali
+++ b/ims_patched/smali/org/codeaurora/ims/ImsServiceSub.smali
@@ -8834,13 +8834,6 @@
 
     if-ne v0, v2, :cond_6
 
-    .line 515
-    invoke-static {}, Landroid/telephony/TelephonyBaseUtilsStub;->isMiuiRom()Z
-
-    move-result v2
-
-    if-nez v2, :cond_5
-
     .line 516
     iget-object v2, p0, Lorg/codeaurora/ims/ImsServiceSub;->mSubController:Lorg/codeaurora/ims/ImsSubController;
 
@@ -8903,7 +8896,6 @@
 
     .line 526
     .end local v6    # "mode":I
-    :cond_5
     invoke-direct {p0}, Lorg/codeaurora/ims/ImsServiceSub;->maybeUpdateMediaConfiguration()V
 
     goto :goto_3
diff --git a/ims/smali/org/codeaurora/ims/ImsSubController.smali b/ims_patched/smali/org/codeaurora/ims/ImsSubController.smali
index 5ba0af4..e206519 100644
--- a/ims/smali/org/codeaurora/ims/ImsSubController.smali
+++ b/ims_patched/smali/org/codeaurora/ims/ImsSubController.smali
@@ -995,35 +995,7 @@
 
     invoke-virtual {v0, v1}, Lorg/codeaurora/ims/ImsSenderRxr;->getImsSubConfig(Landroid/os/Message;)V
 
-    .line 517
-    if-nez p1, :cond_2
-
-    .line 519
-    invoke-static {}, Landroid/telephony/TelephonyBaseUtilsStub;->isMiuiRom()Z
-
-    move-result v1
-
-    if-eqz v1, :cond_2
-
-    .line 520
-    iget-object v1, p0, Lorg/codeaurora/ims/ImsSubController;->mHandler:Landroid/os/Handler;
-
-    .line 521
-    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v2
-
-    .line 520
-    const/16 v3, 0x8
-
-    invoke-virtual {v1, v3, v2}, Landroid/os/Handler;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
-
-    move-result-object v1
-
-    invoke-virtual {v0, v1}, Lorg/codeaurora/ims/ImsSenderRxr;->queryMultiSimVoiceCapability(Landroid/os/Message;)V
-
     .line 525
-    :cond_2
     return-void
 
     .line 502
@@ -2098,35 +2070,7 @@
 
     invoke-virtual {v0, v1, v5, v4}, Lorg/codeaurora/ims/ImsSenderRxr;->registerForMultiSimVoiceCapabilityChanged(Landroid/os/Handler;ILjava/lang/Object;)V
 
-    .line 558
-    if-eqz v2, :cond_6
-
-    .line 560
-    invoke-static {}, Landroid/telephony/TelephonyBaseUtilsStub;->isMiuiRom()Z
-
-    move-result v1
-
-    if-eqz v1, :cond_6
-
-    .line 561
-    iget-object v1, p0, Lorg/codeaurora/ims/ImsSubController;->mHandler:Landroid/os/Handler;
-
-    .line 562
-    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
-
-    move-result-object v4
-
-    .line 561
-    const/16 v5, 0x8
-
-    invoke-virtual {v1, v5, v4}, Landroid/os/Handler;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;
-
-    move-result-object v1
-
-    invoke-virtual {v0, v1}, Lorg/codeaurora/ims/ImsSenderRxr;->queryMultiSimVoiceCapability(Landroid/os/Message;)V
-
     .line 566
-    :cond_6
     return-void
 
     .line 529
